<Page x:Class="MunicipalityApp.Pages.AnnouncementsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            Background="{StaticResource AppBackgroundGradient}">
        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                <Grid>
            <Border Style="{StaticResource CenteredPageContainer}">
                <Border Style="{StaticResource MainCard}">
                    <StackPanel>
                        <TextBlock Text="Local Events &amp; Announcements"
                                   Style="{StaticResource TitleText}"
                                   Foreground="{StaticResource PrimaryDarkTealBrush}"
                                   TextAlignment="Center"
                                   Margin="0,0,0,16"
                                   TextWrapping="Wrap" />

                <StackPanel Orientation="Horizontal" Margin="0,0,0,15" VerticalAlignment="Center">
                    <TextBox x:Name="txtSearch"
                             Width="300"
                             Height="36"
                             Tag="Search by keyword or category..."
                             Style="{StaticResource WatermarkTextBox}"
                             VerticalContentAlignment="Center"
                             TextChanged="TxtSearch_TextChanged" />

                    <Border CornerRadius="6"
                            Background="{StaticResource NeutralWhiteBrush}"
                            Margin="10,0,0,0"
                            Height="36">
                        <ComboBox x:Name="cmbLocationFilter"
                                  Width="200"
                                  Height="36"
                                  Background="Transparent"
                                  Foreground="{StaticResource PrimaryDarkTealBrush}"
                                  FontWeight="SemiBold"
                                  Padding="6,4"
                                  IsEditable="False"
                                  SelectedIndex="0"
                                  SelectionChanged="cmbLocationFilter_SelectionChanged"/>
                    </Border>

            <Button Content="â¬… Back"
                Width="110"
                Height="36"
                Style="{StaticResource ModernButton}"
                Margin="10,0,0,0" Click="btnBack_Click" />
                </StackPanel>

                <TextBlock Text="Current Announcements:"
                           FontWeight="Bold"
                           FontSize="{StaticResource MediumFontSize}"
                           Margin="0,5,0,5"/>
                <ListBox x:Name="lstAnnouncements"
                         Height="220"
                         Padding="8"
                         BorderThickness="0"
                         Background="{StaticResource NeutralWhiteBrush}"
                         Foreground="{StaticResource PrimaryDarkTealBrush}">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Border CornerRadius="6" Padding="6" Margin="2" Background="{StaticResource CardLightBrush}">
                                <StackPanel>
                                    <TextBlock Text="{Binding Title}"
                                               FontWeight="Bold"
                                               FontSize="{StaticResource BodyFontSize}"
                                               Foreground="{StaticResource PrimaryDarkTealBrush}"
                                               TextWrapping="Wrap" />

                                    <TextBlock Text="{Binding Location}"
                                               FontStyle="Italic"
                                               FontSize="{StaticResource SmallFontSize}"
                                               Foreground="{StaticResource AccentMutedBrush}"
                                               Margin="0,2,0,0" />

                                    <TextBlock Text="{Binding Date, StringFormat=d}"
                                               FontSize="{StaticResource SmallFontSize}"
                                               Foreground="{StaticResource AccentMutedBrush}"
                                               Margin="0,2,0,0" />
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <TextBlock Text="Recommended for You:"
                           FontWeight="Bold"
                           FontSize="{StaticResource MediumFontSize}"
                           Margin="0,20,0,5" />
                <ListBox x:Name="lstRecommendations"
                         Height="150"
                         Padding="8"
                         BorderThickness="0"
                         Background="{StaticResource NeutralWhiteBrush}"
                         Foreground="{StaticResource PrimaryDarkTealBrush}">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Border CornerRadius="6" Padding="6" Margin="2" Background="{StaticResource CardLightBrush}">
                                <StackPanel>
                                    <TextBlock Text="{Binding Title}"
                                               FontWeight="Bold"
                                               FontSize="{StaticResource BodyFontSize}"
                                               Foreground="{StaticResource PrimaryDarkTealBrush}"
                                               TextWrapping="Wrap" />
                                    <TextBlock Text="{Binding Location}"
                                               FontStyle="Italic"
                                               FontSize="{StaticResource SmallFontSize}"
                                               Foreground="{StaticResource AccentMutedBrush}"
                                               Margin="0,2,0,0" />
                                    <TextBlock Text="{Binding Date, StringFormat=d}"
                                               FontSize="{StaticResource SmallFontSize}"
                                               Foreground="{StaticResource AccentMutedBrush}"
                                               Margin="0,2,0,0" />
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                    </StackPanel>
                </Border>
            </Border>
        </Grid>
    </ScrollViewer>
</Page>
